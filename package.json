{
    "name": "peerio-desktop",
    "productName": "Icebear",
    "version": "1.0.0",
    "description": "Peerio desktop client (codename Icebear)",
    "main": "build/main.js",
    "scripts": {
        "start": "npm-run-all compile --parallel code:watch style:watch electron:run",
        "compile": "npm-run-all cleanup static:copy code:compile icebear:compile style:compile react-toolbox",
        "cleanup": "rm -rf build && mkdir -p build",
        "electron:run": "sleep 3 && electron .",
        "static:copy": "cp -f src/index.html build/index.html && cp -R static/* build",
        "code:compile": "babel src --out-dir build",
        "icebear:compile": "babel node_modules/peerio-icebear/src --out-dir build/icebear",
        "code:watch": "npm run code:compile -- -w",
        "code:lint": "eslint . --fix --ext .js,.jsx",
        "code:flow": "flow check",
        "code:flow:coverage": "for n in src/**/*.js?; do echo \"$n\"; flow coverage \"$n\"; done",
        "code:flow:suggest": "flow suggest src/**/*.js? | ./node_modules/diff2html-cli/bin/diff2html -i stdin",
        "style:compile": "node-sass src/styles/main.scss build/style.css",
        "style:watch": "npm run style:compile -- -w",
        "style:lint": "stylefmt -R src/styles && stylelint src/styles/**/*.*",
        "dist": "NODE_ENV=production npm-run-all compile dist:mac dist:win dist:linux",
        "dist:mac": "build --mac --x64",
        "dist:win": "build --win --x64",
        "dist:linux": "build -l",
        "validate": "npm-run-all code:lint code:flow style:lint",
        "install-win-build-tools": "./scripts/install-build-tools.sh",
        "get-locales": "./scripts/get-locales.sh",
        "storybook": "start-storybook -p 6006 -c .storybook",
        "storybook:build": "build-storybook",
        "react-toolbox": "node scripts/compile-react-toolbox.js",
        "install_sqlite3_osx": "export LDFLAGS=\"-L`brew --prefix`/opt/sqlcipher/lib\" && export CPPFLAGS=\"-I`brew --prefix`/opt/sqlcipher/include\" && npm install sqlite3 -S --build-from-source --sqlite_libname=sqlcipher --sqlite=`brew --prefix`",
        "fix_sqlite3_osx": "npm run fix_sqlite3_osx:1 && npm run fix_sqlite3_osx:2",
        "fix_sqlite3_osx:1": "pushd node_modules/sqlite3 && node-gyp configure --module_name=node_sqlite3 --sqlite_libname=sqlcipher --sqlite=`brew --prefix` --module_path=../lib/binding/electron-v1.4-darwin-x64 && popd",
        "fix_sqlite3_osx:2": "pushd node_modules/sqlite3 && node-gyp rebuild --target=1.4.3 --arch=x64 --target_platform=darwin --sqlite_libname=sqlcipher --sqlite=`brew --prefix` --dist-url=https://atom.io/download/atom-shell --module_name=node_sqlite3 --module_path=../lib/binding/electron-v1.4-darwin-x64 && popd",
        "fix_sqlite3_windows": "npm run fix_sqlite3_windows:1 && npm run fix_sqlite3_windows:2",
        "fix_sqlite3_windows:1": "pushd node_modules\\sqlite3 && node-gyp configure --module_name=node_sqlite3 --module_path=../lib/binding/electron-v1.4-win32-x64 && popd",
        "fix_sqlite3_windows:2": "pushd node_modules\\sqlite3 && node-gyp rebuild --target=1.4.3 --arch=x64 --target_platform=win32 --dist-url=https://atom.io/download/atom-shell --module_name=node_sqlite3 --module_path=../lib/binding/electron-v1.4-win32-x64 && popd"

    },
    "repository": {
        "type": "git",
        "url": "git+https://github.com/PeerioTechnologies/peerio-desktop.git"
    },
    "author": "Anri Asaturov <anri82@gmail.com>",
    "license": "ISC",
    "bugs": {
        "url": "https://github.com/PeerioTechnologies/peerio-desktop/issues"
    },
    "homepage": "https://github.com/PeerioTechnologies/peerio-desktop#readme",
    "devDependencies": {
        "@kadira/storybook": "^2.21.0",
        "babel-cli": "6.16.0",
        "babel-eslint": "7.0.0",
        "babel-plugin-syntax-flow": "6.13.0",
        "babel-plugin-syntax-jsx": "6.13.0",
        "babel-plugin-transform-class-properties": "6.16.0",
        "babel-plugin-transform-decorators-legacy": "1.3.4",
        "babel-plugin-transform-es2015-modules-commonjs": "6.16.0",
        "babel-plugin-transform-flow-strip-types": "6.14.0",
        "babel-plugin-transform-inline-environment-variables": "6.8.0",
        "babel-plugin-transform-object-rest-spread": "6.16.0",
        "babel-plugin-transform-react-constant-elements": "6.9.1",
        "babel-plugin-transform-react-display-name": "6.8.0",
        "babel-plugin-transform-react-inline-elements": "6.8.0",
        "babel-plugin-transform-react-jsx": "6.8.0",
        "babel-plugin-transform-react-jsx-self": "6.11.0",
        "babel-plugin-transform-react-jsx-source": "6.9.0",
        "babel-plugin-transform-remove-debugger": "6.8.0",
        "cz-conventional-changelog": "1.2.0",
        "devtron": "1.4.0",
        "diff2html-cli": "2.0.3",
        "electron-builder": "7.13.0",
        "electron-devtools-installer": "2.0.1",
        "electron-prebuilt": "1.4.3",
        "electron-reload": "1.0.2",
        "eslint-config-peerio": "*",
        "flow-bin": "0.33.0",
        "ghooks": "1.3.2",
        "iflow-bluebird": "1.1.26",
        "node-sass": "3.10.1",
        "npm-run-all": "3.1.1",
        "postcss": "5.2.4",
        "postcss-cssnext": "2.8.0",
        "postcss-each": "0.9.3",
        "postcss-import": "8.1.2",
        "postcss-mixins": "5.3.0",
        "postcss-modules": "0.5.2",
        "postcss-reporter": "1.4.1",
        "precss": "1.4.0",
        "standard-version": "^3.0.0",
        "stylefmt": "4.3.1",
        "stylelint": "7.4.2",
        "stylelint-config-standard": "13.0.2",
        "validate-commit-msg": "2.8.2",
        "writefile": "0.2.8"
    },
    "dependencies": {
        "dexie": "2.0.0-beta.2",
        "electron-json-storage": "2.0.1",
        "immutability-helper": "2.0.0",
        "material-design-icons": "3.0.1",
        "mobx": "2.6.0",
        "mobx-react": "3.5.8",
        "normalize.css": "5.0.0",
        "peerio-copy": "git+https://github.com/PeerioTechnologies/peerio-copy.git#dev",
        "peerio-icebear": "git+https://github.com/PeerioTechnologies/peerio-icebear.git",
        "peerio-translator": "git+https://github.com/PeerioTechnologies/peerio-translator.git#icebear",
        "react": "15.3.2",
        "react-addons-css-transition-group": "15.3.2",
        "react-dom": "15.3.2",
        "react-router": "2.8.1",
        "react-toolbox": "https://github.com/react-toolbox/react-toolbox.git#css-next"
    },
    "config": {
        "ghooks": {
            "pre-push": "npm run validate",
            "post-checkout": "",
            "post-merge": "",
            "commit-msg": "validate-commit-msg"
        },
        "commitizen": {
            "path": "./node_modules/cz-conventional-changelog"
        },
        "validate-commit-msg": {
            "types": [
                "feat",
                "fix",
                "docs",
                "style",
                "refactor",
                "perf",
                "test",
                "chore",
                "revert"
            ],
            "warnOnFail": false,
            "maxSubjectLength": 120,
            "subjectPattern": ".+",
            "helpMessage": "Convention: https://goo.gl/3TgTsh"
        }
    },
    "directories": {
        "buildResources": "dist-assets"
    },
    "build": {
        "appId": "com.peerio.desktop",
        "category": "public.app-category.productivity",
        "files": [
            "build/**",
            "package.json",
            "node_modules/**"
        ],
        "ignore": [],
        "asar": false,
        "compression": "normal",
        "win": {
            "target": [
                "squirrel"
            ],
            "title": "Peerio",
            "version": "1.0.0",
            "msi": true
        },
        "mac": {
            "target": [
                "dmg"
            ]
        },
        "dmg": {
            "contents": [{
                "x": 290,
                "y": 180,
                "type": "link",
                "path": "/Applications"
            }, {
                "x": 110,
                "y": 180
            }]
        },
        "linux": {
            "target": [
                "AppImage"
            ]
        }
    }
}