{
    "name": "icebear-desktop",
    "productName": "Icebear",
    "version": "1.0.1",
    "description": "Peerio desktop client (codename Icebear)",
    "main": "app/src/main.js",
    "scripts": {
        "postinstall": "install-app-deps",
        "start": "npm-run-all -l -n compile --parallel code:watch icebear:watch style:watch electron:run",
        "start-latest": "git pull && npm install && npm update && npm start",
        "compile": "npm-run-all cleanup static:copy code:compile icebear:compile style:compile react-toolbox",
        "cleanup": "rm -rf app/src && mkdir -p app/src",
        "electron:run": "sleep 3 && electron app",
        "static:copy": "cp -f src/index.html app/src/index.html && cp -R src/static app/src",
        "code:compile": "babel src -d app/src",
        "icebear:compile": "babel app/node_modules/peerio-icebear/src -d app/src/icebear",
        "code:watch": "npm run code:compile -- -w",
        "icebear:watch": "npm run icebear:compile -- -w",
        "code:lint": "eslint . --fix --ext .js,.jsx",
        "electron": "sleep 3 && electron app",
        "style:compile": "node-sass src/styles/main.scss app/src/style.css",
        "style:watch": "npm run style:compile -- -w",
        "style:lint": "stylefmt -R src/styles && stylelint src/styles/**/*.*",
        "dist": "NODE_ENV=production npm-run-all compile dist:mac",
        "dist:mac": "build --mac --x64",
        "dist:win": "build --win --x64",
        "dist:linux": "build -l",
        "validate": "npm-run-all code:lint style:lint",
        "install-win-build-tools": "./scripts/install-build-tools.sh",
        "get-locales": "./scripts/get-locales.sh",
        "storybook": "start-storybook -p 6006 -c .storybook",
        "storybook:build": "build-storybook",
        "react-toolbox": "node scripts/compile-react-toolbox.js",
        "install_sqlite3_osx": "export LDFLAGS=\"-L`brew --prefix`/opt/sqlcipher/lib\" && export CPPFLAGS=\"-I`brew --prefix`/opt/sqlcipher/include\" && npm install sqlite3 -S --build-from-source --sqlite_libname=sqlcipher --sqlite=`brew --prefix`",
        "fix_sqlite3_osx": "npm run fix_sqlite3_osx:1 && npm run fix_sqlite3_osx:2",
        "fix_sqlite3_osx:1": "pushd node_modules/sqlite3 && node-gyp configure --module_name=node_sqlite3 --sqlite_libname=sqlcipher --sqlite=`brew --prefix` --module_path=../lib/binding/electron-v1.4-darwin-x64 && popd",
        "fix_sqlite3_osx:2": "pushd node_modules/sqlite3 && node-gyp rebuild --target=1.4.3 --arch=x64 --target_platform=darwin --sqlite_libname=sqlcipher --sqlite=`brew --prefix` --dist-url=https://atom.io/download/atom-shell --module_name=node_sqlite3 --module_path=../lib/binding/electron-v1.4-darwin-x64 && popd",
        "fix_sqlite3_windows": "npm run fix_sqlite3_windows:1 && npm run fix_sqlite3_windows:2",
        "fix_sqlite3_windows:1": "pushd node_modules\\sqlite3 && node-gyp configure --module_name=node_sqlite3 --module_path=../lib/binding/electron-v1.4-win32-x64 && popd",
        "fix_sqlite3_windows:2": "pushd node_modules\\sqlite3 && node-gyp rebuild --target=1.4.3 --arch=x64 --target_platform=win32 --dist-url=https://atom.io/download/atom-shell --module_name=node_sqlite3 --module_path=../lib/binding/electron-v1.4-win32-x64 && popd"
    },
    "repository": {
        "type": "git",
        "url": "git+https://github.com/PeerioTechnologies/peerio-desktop.git"
    },
    "author": "Anri Asaturov <anri82@gmail.com>",
    "license": "ISC",
    "bugs": {
        "url": "https://github.com/PeerioTechnologies/peerio-desktop/issues"
    },
    "homepage": "https://github.com/PeerioTechnologies/peerio-desktop#readme",
    "devDependencies": {
        "@kadira/storybook": "^2.21.0",
        "babel-cli": "6.18.0",
        "babel-eslint": "7.1.0",
        "babel-plugin-syntax-jsx": "6.18.0",
        "babel-plugin-transform-class-properties": "6.18.0",
        "babel-plugin-transform-decorators-legacy": "1.3.4",
        "babel-plugin-transform-es2015-modules-commonjs": "6.18.0",
        "babel-plugin-transform-es2015-template-literals": "6.8.0",
        "babel-plugin-transform-inline-environment-variables": "6.8.0",
        "babel-plugin-transform-object-rest-spread": "6.16.0",
        "babel-plugin-transform-react-constant-elements": "6.9.1",
        "babel-plugin-transform-react-display-name": "6.8.0",
        "babel-plugin-transform-react-inline-elements": "6.8.0",
        "babel-plugin-transform-react-jsx": "6.8.0",
        "babel-plugin-transform-react-jsx-self": "6.11.0",
        "babel-plugin-transform-react-jsx-source": "6.9.0",
        "babel-plugin-transform-remove-debugger": "6.8.0",
        "babel-preset-es2015": "6.18.0",
        "babel-preset-react": "6.16.0",
        "babel-preset-stage-0": "6.16.0",
        "cz-conventional-changelog": "1.2.0",
        "diff2html-cli": "2.0.3",
        "electron": "1.4.6",
        "electron-builder": "7.24.1",
        "eslint-config-peerio": "*",
        "ghooks": "1.3.2",
        "node-sass": "3.11.2",
        "nodemon": "1.11.0",
        "npm-run-all": "3.1.1",
        "peerio-copy": "git+https://github.com/PeerioTechnologies/peerio-copy.git#icebear",
        "postcss": "5.2.5",
        "postcss-cssnext": "2.8.0",
        "postcss-each": "0.9.3",
        "postcss-import": "8.2.0",
        "postcss-mixins": "5.4.0",
        "postcss-modules": "0.5.2",
        "postcss-reporter": "2.0.0",
        "precss": "1.4.0",
        "standard-version": "^3.0.0",
        "stylefmt": "4.4.0",
        "stylelint": "7.5.0",
        "stylelint-config-standard": "14.0.0",
        "validate-commit-msg": "2.8.2",
        "writefile": "0.2.8"
    },
    "config": {
        "ghooks": {
            "pre-commit": "npm run validate",
            "post-checkout": "",
            "post-merge": "npm update",
            "commit-msg": "validate-commit-msg"
        },
        "commitizen": {
            "path": "./node_modules/cz-conventional-changelog"
        },
        "validate-commit-msg": {
            "types": [
                "feat",
                "fix",
                "docs",
                "style",
                "refactor",
                "perf",
                "test",
                "chore",
                "revert",
                "core"
            ],
            "warnOnFail": false,
            "maxSubjectLength": 120,
            "subjectPattern": ".+",
            "helpMessage": "Convention: https://goo.gl/3TgTsh"
        }
    },
    "build": {
        "appId": "com.peerio.desktop",
        "productName": "Icebear",
        "asar": true,
        "compression": "normal",
        "win": {
            "target": [
                "squirrel"
            ],
            "title": "Icebear",
            "version": "1.0.0",
            "msi": true
        },
        "mac": {
            "category": "public.app-category.productivity",
            "target": [
                "zip",
                "dmg"
            ]
        },
        "dmg": {
            "window": {
                "x": 200,
                "y": 160,
                "width": 400,
                "height": 260
            },
            "contents": [
                {
                    "x": 160,
                    "y": 170
                },
                {
                    "x": 300,
                    "y": 170,
                    "type": "link",
                    "path": "/Applications"
                }
            ]
        },
        "linux": {
            "target": [
                "AppImage"
            ]
        }
    },
    "directories": {
        "buildResources": "dist-assets"
    }
}
